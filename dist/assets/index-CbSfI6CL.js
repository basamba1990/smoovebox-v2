var e=Object.defineProperty,s=(s,t,r)=>((s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r)(s,"symbol"!=typeof t?t+"":t,r);import{r as t,j as r,R as a,C as i,a as o,T as n,D as l,P as d,O as c,S as u,b as m,c as p,L as h,d as g,e as f,f as x}from"./ui-ak7K14db.js";import{b}from"./react-D3CUnFnO.js";import{c as v}from"./supabase-CirpMI9j.js";import{O as y}from"./openai-DmZQeL2h.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var w,j={};var N=function(){if(w)return j;w=1;var e=b();return j.createRoot=e.createRoot,j.hydrateRoot=e.hydrateRoot,j}();const k="draft",_="processing",z="published",A="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",S=v("https://nyxtckjfaajhacboxojd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55eHRja2pmYWFqaGFjYm94b2pkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYwMzY5OTIsImV4cCI6MjA2MTYxMjk5Mn0.9zpLjXat7L6TvfKQB93ef66bnQZgueAreyGZ8fjlPLA",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"smoovebox-auth-token",storage:window.localStorage},global:{headers:{"X-Client-Info":"smoovebox-v2"}},realtime:{params:{eventsPerSecond:10}}});let I=null,C=!1;if(!(M=A).startsWith("sk-")||M.length<50)C=!1;else try{I=new y({apiKey:A,dangerouslyAllowBrowser:!0}),C=!0}catch(Gs){C=!1}var M;const E=async(e,s=3,t=1e3)=>{for(let r=1;r<=s;r++)try{return await e()}catch(Gs){if(r===s)throw Gs;await new Promise(e=>setTimeout(e,t*r))}},P=async()=>{if(!C||!I)return{available:!1,error:"Service OpenAI non configuré ou clé API invalide"};try{return await E(async()=>{const e=await I.models.list();if(!e||!e.data)throw new Error("Réponse invalide de l'API OpenAI")},2,500),{available:!0}}catch(Gs){return{available:!1,error:`Service OpenAI indisponible: ${Gs.message}`}}},q=e=>{if(!e||0===e.trim().length)return{success:!1,error:"Aucun contenu à analyser"};const s=e.split(/\s+/).filter(e=>e.length>0),t=e.split(/[.!?]+/).filter(e=>e.trim().length>0),r=s.length,a=t.length>0?Math.round(r/t.length):0,i=Math.round(r/150),o=s.filter(e=>e.length>5),n={};o.forEach(e=>{const s=e.toLowerCase().replace(/[^\w]/g,"");n[s]=(n[s]||0)+1});return{success:!0,data:{suggestions:[{type:"analyse",titre:"Analyse basique disponible",description:"L'analyse IA complète n'est pas disponible. Voici une analyse basique de votre pitch.",priorite:"moyenne"}],sentiment:"neutre",score_confiance:50,mots_cles:Object.entries(n).filter(([e,s])=>s>1).sort((e,s)=>s[1]-e[1]).slice(0,5).map(([e])=>e),resume:`Pitch de ${r} mots en ${t.length} phrases`,statistiques:{nombre_mots:r,nombre_phrases:t.length,mots_par_phrase:a,duree_estimee:`${i} minute${i>1?"s":""}`},points_forts:["Contenu transcrit avec succès"],points_amelioration:["Analyse IA complète recommandée"]}}};async function V(e,s={},t=()=>{}){try{const{user:o,error:n}=await async function(){try{const{data:e,error:s}=await S.auth.getUser();if(s)throw s;return{user:e.user,error:null}}catch(Gs){return{user:null,error:Gs}}}();if(n||!o)return{success:!1,error:(null==n?void 0:n.message)||"Vous devez être connecté pour uploader une vidéo"};const l=function(e){if(!e)return{valid:!1,error:"Aucun fichier sélectionné"};const s=["video/mp4","video/webm","video/ogg","video/quicktime","video/mov","video/avi"];if(!s.includes(e.type))return{valid:!1,error:`Type de fichier non supporté. Types acceptés: ${s.join(", ")}`};const t=104857600;return e.size>t?{valid:!1,error:"La taille du fichier dépasse la limite de 100MB"}:{valid:!0,error:null}}(e);if(!l.valid)return{success:!1,error:l.error};const d=e.name.split(".").pop(),c=`${o.id}-${Date.now()}.${d}`,u=`${o.id}/${c}`;let m=null,p=null;if(s.generateThumbnail){t({phase:"thumbnail",progress:0});const s=await(r=e,new Promise(e=>{try{const s=document.createElement("video"),t=document.createElement("canvas"),a=t.getContext("2d");s.addEventListener("loadeddata",()=>{s.currentTime=Math.min(1,s.duration/2)}),s.addEventListener("seeked",()=>{t.width=640,t.height=360,a.drawImage(s,0,0,t.width,t.height),t.toBlob(s=>{e(s)},"image/jpeg",.7)}),s.addEventListener("error",()=>{e(null)}),s.src=URL.createObjectURL(r)}catch(Gs){e(null)}}));if(s){const e=`${o.id}-${Date.now()}-thumb.jpg`,r=`${o.id}/thumbnails/${e}`;t({phase:"thumbnail",progress:50});const{data:a,error:i}=await S.storage.from("videos").upload(r,s,{contentType:"image/jpeg",cacheControl:"3600"});if(!i){m=r;const{data:e}=S.storage.from("videos").getPublicUrl(r);p=e.publicUrl}t({phase:"thumbnail",progress:100})}}t({phase:"video",progress:0});const{data:h,error:g}=await S.storage.listBuckets();if(g)throw new Error(`Erreur d'accès au storage: ${g.message}`);if(!h.find(e=>"videos"===e.name))throw new Error("Le bucket 'videos' n'existe pas. Vérifiez la configuration Supabase Storage.");const{data:f,error:x}=await S.storage.from("videos").upload(u,e,{cacheControl:"3600",upsert:!1});if(x){let e=`Erreur lors de l'upload: ${x.message}`;return x.message.includes("not found")?e="Bucket de stockage non trouvé. Vérifiez la configuration Supabase.":x.message.includes("permission")?e="Permissions insuffisantes pour uploader. Vérifiez les politiques RLS.":x.message.includes("size")&&(e="Fichier trop volumineux pour le stockage."),{success:!1,error:e}}const{data:{publicUrl:b}}=S.storage.from("videos").getPublicUrl(u);t({phase:"database",progress:0});try{let r=null,i=null;try{const t=await(async e=>{var s,t,r,a;try{const{data:i,error:o}=await S.from("profiles").select("id").eq("user_id",e).single();if(o){if("PGRST116"===o.code)return e;if("PGRST301"===o.code){const{data:i}=await S.auth.getUser();if(!(null==i?void 0:i.user))throw new Error("Utilisateur non authentifié");const{data:o,error:n}=await S.from("profiles").insert({user_id:e,email:i.user.email,username:(null==(s=i.user.email)?void 0:s.split("@")[0])||"user",full_name:(null==(t=i.user.user_metadata)?void 0:t.full_name)||`${(null==(r=i.user.user_metadata)?void 0:r.first_name)||""} ${(null==(a=i.user.user_metadata)?void 0:a.last_name)||""}`.trim()||null}).select().single();return n?e:o.id}throw o}return i?i.id:e}catch(Gs){return e}})(o.id);if(t===o.id){const t=await S.from("videos").insert({user_id:o.id,title:s.title||e.name||"Sans titre",description:s.description||"",file_path:u,thumbnail_url:p,status:k,is_public:s.isPublic||!1,tags:s.tags||[]}).select().single();r=t.data,i=t.error}else{const a=await S.from("videos").insert({profile_id:t,title:s.title||e.name||"Sans titre",description:s.description||"",file_path:u,thumbnail_url:p,status:k,is_public:s.isPublic||!1,tags:s.tags||[]}).select().single();r=a.data,i=a.error}}catch(a){const t=await S.from("videos").insert({user_id:o.id,title:s.title||e.name||"Sans titre",description:s.description||"",file_path:u,thumbnail_url:p,status:k,is_public:s.isPublic||!1,tags:s.tags||[]}).select().single();r=t.data,i=t.error}if(i){await S.storage.from("videos").remove([u]),m&&await S.storage.from("videos").remove([m]);let e=`Erreur lors de l'enregistrement: ${i.message}`;return i.message.includes("not found")?e="Table 'videos' non trouvée. Vérifiez les migrations de base de données.":i.message.includes("permission")&&(e="Permissions insuffisantes pour enregistrer en base de données."),{success:!1,error:e}}return t({phase:"database",progress:100}),t({phase:"complete",progress:100}),{success:!0,video:r,url:b,thumbnailUrl:p}}catch(i){return await S.storage.from("videos").remove([u]),m&&await S.storage.from("videos").remove([m]),{success:!1,error:"Erreur de base de données. Vérifiez la configuration Supabase."}}}catch(o){return{success:!1,error:`Une erreur inattendue s'est produite: ${o.message}`}}var r}(async()=>{try{const{data:e,error:s}=await S.auth.getSession();if(C){(await P()).available}}catch(Gs){}})();const T=t.createContext({}),L=()=>{const e=t.useContext(T);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},$=({children:e})=>{const[s,a]=t.useState(null),[i,o]=t.useState(null),[n,l]=t.useState(!0),[d,c]=t.useState(null),u=async e=>{var t,r,a,i;try{const{data:a,error:i}=await S.from("profiles").select("*").eq("user_id",e).single();if(i){if("PGRST116"===i.code||"PGRST301"===i.code)return void o({id:e,user_id:e,email:(null==s?void 0:s.email)||"utilisateur@example.com",username:(null==(t=null==s?void 0:s.email)?void 0:t.split("@")[0])||"utilisateur",full_name:(null==(r=null==s?void 0:s.user_metadata)?void 0:r.full_name)||"Utilisateur"});throw i}o(a)}catch(n){o({id:e,user_id:e,email:(null==s?void 0:s.email)||"utilisateur@example.com",username:(null==(a=null==s?void 0:s.email)?void 0:a.split("@")[0])||"utilisateur",full_name:(null==(i=null==s?void 0:s.user_metadata)?void 0:i.full_name)||"Utilisateur"})}};t.useEffect(()=>{let e=!0;(async()=>{try{const{data:{session:s},error:t}=await S.auth.getSession();if(t)return c(t.message),void(e&&l(!1));e&&((null==s?void 0:s.user)?(a(s.user),await u(s.user.id)):(a(null),o(null)),l(!1))}catch(s){e&&(c(s.message),l(!1))}})();const{data:{subscription:s}}=S.auth.onAuthStateChange(async(s,t)=>{if(e)try{(null==t?void 0:t.user)?(a(t.user),await u(t.user.id)):(a(null),o(null)),l(!1),c(null)}catch(r){c(r.message),l(!1)}});return()=>{e=!1,s.unsubscribe()}},[]);const m={user:s,profile:i,loading:n,error:d,signUp:async(e,s,t,r)=>{l(!0),c(null);try{const{data:a,error:i}=await S.auth.signUp({email:e,password:s,options:{data:{first_name:t,last_name:r}}});if(i)throw i;return(null==a?void 0:a.user)&&(await new Promise(e=>setTimeout(e,1e3)),await u(a.user.id)),a}catch(a){throw c(a.message),a}finally{l(!1)}},signIn:async(e,s)=>{l(!0),c(null);try{const{data:t,error:r}=await S.auth.signInWithPassword({email:e,password:s});if(r)throw r;return t}catch(t){throw c(t.message),t}finally{l(!1)}},signOut:async()=>{l(!0),c(null);try{const{error:e}=await S.auth.signOut();if(e)throw e;o(null),a(null)}catch(e){throw c(e.message),e}finally{l(!1)}}};return r.jsx(T.Provider,{value:m,children:e})},R=e=>{const s=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()))(e);return s.charAt(0).toUpperCase()+s.slice(1)},O=(...e)=>e.filter((e,s,t)=>Boolean(e)&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim(),U=e=>{for(const s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};
/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=t.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:n,...l},d)=>t.createElement("svg",{ref:d,...D,width:s,height:s,stroke:e,strokeWidth:a?24*Number(r)/Number(s):r,className:O("lucide",i),...!o&&!U(l)&&{"aria-hidden":"true"},...l},[...n.map(([e,s])=>t.createElement(e,s)),...Array.isArray(o)?o:[o]])),G=(e,s)=>{const r=t.forwardRef(({className:r,...a},i)=>{return t.createElement(F,{ref:i,iconNode:s,className:O(`lucide-${o=R(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...a});var o});return r.displayName=R(e),r},B=G("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),H=G("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),J=G("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),W=G("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Z=G("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Y=G("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),X=G("file-video",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]),K=G("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Q=G("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),ee=G("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),se=G("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),te=G("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),re=G("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ae=G("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ie=G("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),oe=G("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);
/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function ne(e){var s,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(t=ne(e[s]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function le(){for(var e,s,t=0,r="",a=arguments.length;t<a;t++)(e=arguments[t])&&(s=ne(e))&&(r&&(r+=" "),r+=s);return r}const de=e=>{const s=pe(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const t=e.split("-");return""===t[0]&&1!==t.length&&t.shift(),ce(t,s)||me(e)},getConflictingClassGroupIds:(e,s)=>{const a=t[e]||[];return s&&r[e]?[...a,...r[e]]:a}}},ce=(e,s)=>{var t;if(0===e.length)return s.classGroupId;const r=e[0],a=s.nextPart.get(r),i=a?ce(e.slice(1),a):void 0;if(i)return i;if(0===s.validators.length)return;const o=e.join("-");return null==(t=s.validators.find(({validator:e})=>e(o)))?void 0:t.classGroupId},ue=/^\[(.+)\]$/,me=e=>{if(ue.test(e)){const s=ue.exec(e)[1],t=null==s?void 0:s.substring(0,s.indexOf(":"));if(t)return"arbitrary.."+t}},pe=e=>{const{theme:s,classGroups:t}=e,r={nextPart:new Map,validators:[]};for(const a in t)he(t[a],r,a,s);return r},he=(e,s,t,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?s:ge(s,e)).classGroupId=t)}if("function"==typeof e)return fe(e)?void he(e(r),s,t,r):void s.validators.push({validator:e,classGroupId:t});Object.entries(e).forEach(([e,a])=>{he(a,ge(s,e),t,r)})})},ge=(e,s)=>{let t=e;return s.split("-").forEach(e=>{t.nextPart.has(e)||t.nextPart.set(e,{nextPart:new Map,validators:[]}),t=t.nextPart.get(e)}),t},fe=e=>e.isThemeGetter,xe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,t=new Map,r=new Map;const a=(a,i)=>{t.set(a,i),s++,s>e&&(s=0,r=t,t=new Map)};return{get(e){let s=t.get(e);return void 0!==s?s:void 0!==(s=r.get(e))?(a(e,s),s):void 0},set(e,s){t.has(e)?t.set(e,s):a(e,s)}}},be=e=>{const{prefix:s,experimentalParseClassName:t}=e;let r=e=>{const s=[];let t,r=0,a=0,i=0;for(let l=0;l<e.length;l++){let o=e[l];if(0===r&&0===a){if(":"===o){s.push(e.slice(i,l)),i=l+1;continue}if("/"===o){t=l;continue}}"["===o?r++:"]"===o?r--:"("===o?a++:")"===o&&a--}const o=0===s.length?e:e.substring(i),n=ve(o);return{modifiers:s,hasImportantModifier:n!==o,baseClassName:n,maybePostfixModifierPosition:t&&t>i?t-i:void 0}};if(s){const e=s+":",t=r;r=s=>s.startsWith(e)?t(s.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){const e=r;r=s=>t({className:s,parseClassName:e})}return r},ve=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,ye=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(e=>{"["===e[0]||s[e]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t}},we=/\s+/;function je(){let e,s,t=0,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=Ne(e))&&(r&&(r+=" "),r+=s);return r}const Ne=e=>{if("string"==typeof e)return e;let s,t="";for(let r=0;r<e.length;r++)e[r]&&(s=Ne(e[r]))&&(t&&(t+=" "),t+=s);return t};function ke(e,...s){let t,r,a,i=function(n){const l=s.reduce((e,s)=>s(e),e());return t=(e=>({cache:xe(e.cacheSize),parseClassName:be(e),sortModifiers:ye(e),...de(e)}))(l),r=t.cache.get,a=t.cache.set,i=o,o(n)};function o(e){const s=r(e);if(s)return s;const i=((e,s)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=s,o=[],n=e.trim().split(we);let l="";for(let d=n.length-1;d>=0;d-=1){const e=n[d],{isExternal:s,modifiers:c,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=t(e);if(s){l=e+(l.length>0?" "+l:l);continue}let h=!!p,g=r(h?m.substring(0,p):m);if(!g){if(!h){l=e+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=e+(l.length>0?" "+l:l);continue}h=!1}const f=i(c).join(":"),x=u?f+"!":f,b=x+g;if(o.includes(b))continue;o.push(b);const v=a(g,h);for(let t=0;t<v.length;++t){const e=v[t];o.push(x+e)}l=e+(l.length>0?" "+l:l)}return l})(e,t);return a(e,i),i}return function(){return i(je.apply(null,arguments))}}const _e=e=>{const s=s=>s[e]||[];return s.isThemeGetter=!0,s},ze=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ae=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Se=/^\d+\/\d+$/,Ie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Me=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qe=e=>Se.test(e),Ve=e=>!!e&&!Number.isNaN(Number(e)),Te=e=>!!e&&Number.isInteger(Number(e)),Le=e=>e.endsWith("%")&&Ve(e.slice(0,-1)),$e=e=>Ie.test(e),Re=()=>!0,Oe=e=>Ce.test(e)&&!Me.test(e),Ue=()=>!1,De=e=>Ee.test(e),Fe=e=>Pe.test(e),Ge=e=>!He(e)&&!Ke(e),Be=e=>is(e,ds,Ue),He=e=>ze.test(e),Je=e=>is(e,cs,Oe),We=e=>is(e,us,Ve),Ze=e=>is(e,ns,Ue),Ye=e=>is(e,ls,Fe),Xe=e=>is(e,ps,De),Ke=e=>Ae.test(e),Qe=e=>os(e,cs),es=e=>os(e,ms),ss=e=>os(e,ns),ts=e=>os(e,ds),rs=e=>os(e,ls),as=e=>os(e,ps,!0),is=(e,s,t)=>{const r=ze.exec(e);return!!r&&(r[1]?s(r[1]):t(r[2]))},os=(e,s,t=!1)=>{const r=Ae.exec(e);return!!r&&(r[1]?s(r[1]):t)},ns=e=>"position"===e||"percentage"===e,ls=e=>"image"===e||"url"===e,ds=e=>"length"===e||"size"===e||"bg-size"===e,cs=e=>"length"===e,us=e=>"number"===e,ms=e=>"family-name"===e,ps=e=>"shadow"===e,hs=ke(()=>{const e=_e("color"),s=_e("font"),t=_e("text"),r=_e("font-weight"),a=_e("tracking"),i=_e("leading"),o=_e("breakpoint"),n=_e("container"),l=_e("spacing"),d=_e("radius"),c=_e("shadow"),u=_e("inset-shadow"),m=_e("text-shadow"),p=_e("drop-shadow"),h=_e("blur"),g=_e("perspective"),f=_e("aspect"),x=_e("ease"),b=_e("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Ke,He],y=()=>[Ke,He,l],w=()=>[qe,"full","auto",...y()],j=()=>[Te,"none","subgrid",Ke,He],N=()=>["auto",{span:["full",Te,Ke,He]},Te,Ke,He],k=()=>[Te,"auto",Ke,He],_=()=>["auto","min","max","fr",Ke,He],z=()=>["auto",...y()],A=()=>[qe,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],S=()=>[e,Ke,He],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ss,Ze,{position:[Ke,He]}],C=()=>["auto","cover","contain",ts,Be,{size:[Ke,He]}],M=()=>[Le,Qe,Je],E=()=>["","none","full",d,Ke,He],P=()=>["",Ve,Qe,Je],q=()=>[Ve,Le,ss,Ze],V=()=>["","none",h,Ke,He],T=()=>["none",Ve,Ke,He],L=()=>["none",Ve,Ke,He],$=()=>[Ve,Ke,He],R=()=>[qe,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$e],breakpoint:[$e],color:[Re],container:[$e],"drop-shadow":[$e],ease:["in","out","in-out"],font:[Ge],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$e],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$e],shadow:[$e],spacing:["px",Ve],text:[$e],"text-shadow":[$e],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qe,He,Ke,f]}],container:["container"],columns:[{columns:[Ve,He,Ke,n]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Te,"auto",Ke,He]}],basis:[{basis:[qe,"full","auto",n,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,qe,"auto","initial","none",He]}],grow:[{grow:["",Ve,Ke,He]}],shrink:[{shrink:["",Ve,Ke,He]}],order:[{order:[Te,"first","last","none",Ke,He]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_()}],"auto-rows":[{"auto-rows":_()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:A()}],w:[{w:[n,"screen",...A()]}],"min-w":[{"min-w":[n,"screen","none",...A()]}],"max-w":[{"max-w":[n,"screen","none","prose",{screen:[o]},...A()]}],h:[{h:["screen","lh",...A()]}],"min-h":[{"min-h":["screen","lh","none",...A()]}],"max-h":[{"max-h":["screen","lh",...A()]}],"font-size":[{text:["base",t,Qe,Je]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ke,We]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Le,He]}],"font-family":[{font:[es,He,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ke,He]}],"line-clamp":[{"line-clamp":[Ve,"none",Ke,We]}],leading:[{leading:[i,...y()]}],"list-image":[{"list-image":["none",Ke,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",Ke,Je]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[Ve,"auto",Ke,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Te,Ke,He],radial:["",Ke,He],conic:[Te,Ke,He]},rs,Ye]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:E()}],"rounded-s":[{"rounded-s":E()}],"rounded-e":[{"rounded-e":E()}],"rounded-t":[{"rounded-t":E()}],"rounded-r":[{"rounded-r":E()}],"rounded-b":[{"rounded-b":E()}],"rounded-l":[{"rounded-l":E()}],"rounded-ss":[{"rounded-ss":E()}],"rounded-se":[{"rounded-se":E()}],"rounded-ee":[{"rounded-ee":E()}],"rounded-es":[{"rounded-es":E()}],"rounded-tl":[{"rounded-tl":E()}],"rounded-tr":[{"rounded-tr":E()}],"rounded-br":[{"rounded-br":E()}],"rounded-bl":[{"rounded-bl":E()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,Ke,He]}],"outline-w":[{outline:["",Ve,Qe,Je]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",c,as,Xe]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",u,as,Xe]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[Ve,Je]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",m,as,Xe]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[Ve,Ke,He]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[Ke,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,He]}],filter:[{filter:["","none",Ke,He]}],blur:[{blur:V()}],brightness:[{brightness:[Ve,Ke,He]}],contrast:[{contrast:[Ve,Ke,He]}],"drop-shadow":[{"drop-shadow":["","none",p,as,Xe]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",Ve,Ke,He]}],"hue-rotate":[{"hue-rotate":[Ve,Ke,He]}],invert:[{invert:["",Ve,Ke,He]}],saturate:[{saturate:[Ve,Ke,He]}],sepia:[{sepia:["",Ve,Ke,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,He]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,Ke,He]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,Ke,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,Ke,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,Ke,He]}],"backdrop-invert":[{"backdrop-invert":["",Ve,Ke,He]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,Ke,He]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,Ke,He]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,Ke,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",Ke,He]}],ease:[{ease:["linear","initial",x,Ke,He]}],delay:[{delay:[Ve,Ke,He]}],animate:[{animate:["none",b,Ke,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Ke,He]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:T()}],"rotate-x":[{"rotate-x":T()}],"rotate-y":[{"rotate-y":T()}],"rotate-z":[{"rotate-z":T()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[Ke,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:R()}],"translate-x":[{"translate-x":R()}],"translate-y":[{"translate-y":R()}],"translate-z":[{"translate-z":R()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,He]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[Ve,Qe,Je,We]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function gs(...e){return hs(le(e))}function fs({...e}){return r.jsx(a,{"data-slot":"dialog",...e})}function xs({...e}){return r.jsx(d,{"data-slot":"dialog-portal",...e})}function bs({className:e,...s}){return r.jsx(c,{"data-slot":"dialog-overlay",className:gs("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function vs({className:e,children:s,...t}){return r.jsxs(xs,{"data-slot":"dialog-portal",children:[r.jsx(bs,{}),r.jsxs(i,{"data-slot":"dialog-content",className:gs("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t,children:[s,r.jsxs(o,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(oe,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ys({className:e,...s}){return r.jsx("div",{"data-slot":"dialog-header",className:gs("flex flex-col gap-2 text-center sm:text-left",e),...s})}function ws({className:e,...s}){return r.jsx(n,{"data-slot":"dialog-title",className:gs("text-lg leading-none font-semibold",e),...s})}function js({className:e,...s}){return r.jsx(l,{"data-slot":"dialog-description",className:gs("text-muted-foreground text-sm",e),...s})}const Ns=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,ks=le,_s=(zs="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",As={variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}},e=>{var s;if(null==(null==As?void 0:As.variants))return ks(zs,null==e?void 0:e.class,null==e?void 0:e.className);const{variants:t,defaultVariants:r}=As,a=Object.keys(t).map(s=>{const a=null==e?void 0:e[s],i=null==r?void 0:r[s];if(null===a)return null;const o=Ns(a)||Ns(i);return t[s][o]}),i=e&&Object.entries(e).reduce((e,s)=>{let[t,r]=s;return void 0===r||(e[t]=r),e},{}),o=null==As||null===(s=As.compoundVariants)||void 0===s?void 0:s.reduce((e,s)=>{let{class:t,className:a,...o}=s;return Object.entries(o).every(e=>{let[s,t]=e;return Array.isArray(t)?t.includes({...r,...i}[s]):{...r,...i}[s]===t})?[...e,t,a]:e},[]);return ks(zs,a,o,null==e?void 0:e.class,null==e?void 0:e.className)});var zs,As;const Ss=t.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...i},o)=>{const n=a?u:"button";return r.jsx(n,{className:gs(_s({variant:s,size:t,className:e})),ref:o,...i})});function Is({className:e,type:s,...t}){return r.jsx("input",{type:s,"data-slot":"input",className:gs("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}Ss.displayName="Button";var Cs=t.forwardRef((e,s)=>r.jsx(m.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Cs.displayName="Label";var Ms=Cs;function Es({className:e,...s}){return r.jsx(Ms,{"data-slot":"label",className:gs("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}const Ps=({isOpen:e,onClose:s,onAuthSuccess:a})=>{const[i,o]=t.useState(!0),[n,l]=t.useState(""),[d,c]=t.useState(""),[u,m]=t.useState(""),[p,h]=t.useState(""),[g,f]=t.useState(null),[x,b]=t.useState(!1),{signIn:v,signUp:y,loading:w}=L(),j=()=>{l(""),c(""),m(""),h(""),f(null)};return r.jsx(fs,{open:e,onOpenChange:e=>{e||(s(),j())},children:r.jsxs(vs,{className:"sm:max-w-[425px]",children:[r.jsxs(ys,{children:[r.jsx(ws,{children:i?"Connexion":"Inscription"}),r.jsx(js,{children:i?"Connectez-vous à votre compte.":"Créez un nouveau compte."})]}),r.jsxs("form",{onSubmit:async e=>{var t,r;if(e.preventDefault(),f(null),b(!0),!n||!d)return f("Veuillez remplir tous les champs"),void b(!1);if(!(i||u&&p))return f("Veuillez remplir tous les champs"),void b(!1);try{let e;if(i)e=await v(n,d);else if(e=await y(n,d,u,p),0===(null==(r=null==(t=null==e?void 0:e.user)?void 0:t.identities)?void 0:r.length))return f("✅ Inscription réussie ! Un email de confirmation a été envoyé à votre adresse. Veuillez vérifier votre boîte de réception et cliquer sur le lien de confirmation pour activer votre compte."),void b(!1);e&&e.user?(await new Promise(e=>setTimeout(e,1500)),a(e.user),s(),j()):f("Erreur d'authentification - Veuillez réessayer")}catch(o){f(o.message||"Une erreur s'est produite lors de l'authentification")}finally{b(!1)}},className:"grid gap-4 py-4",children:[!i&&r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Es,{htmlFor:"firstName",className:"text-right",children:"Prénom"}),r.jsx(Is,{id:"firstName",value:u,onChange:e=>m(e.target.value),className:"col-span-3",required:!0})]}),!i&&r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Es,{htmlFor:"lastName",className:"text-right",children:"Nom"}),r.jsx(Is,{id:"lastName",value:p,onChange:e=>h(e.target.value),className:"col-span-3",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Es,{htmlFor:"email",className:"text-right",children:"Email"}),r.jsx(Is,{id:"email",type:"email",value:n,onChange:e=>l(e.target.value),className:"col-span-3",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Es,{htmlFor:"password",className:"text-right",children:"Mot de passe"}),r.jsx(Is,{id:"password",type:"password",value:d,onChange:e=>c(e.target.value),className:"col-span-3",required:!0,minLength:6})]}),g&&r.jsx("div",{className:"text-sm p-3 rounded-md "+(g.startsWith("✅")?"text-green-700 bg-green-50 border border-green-200":"text-red-500"),children:g}),r.jsx(Ss,{type:"submit",className:"w-full",disabled:x||w,children:x?"Chargement...":i?"Connexion":"Inscription"}),r.jsx(Ss,{variant:"link",onClick:()=>{o(!i),f(null)},className:"w-full",children:i?"Pas de compte ? Inscrivez-vous":"Déjà un compte ? Connectez-vous"})]})]})})},qs=({dashboardData:e})=>{const{user:s}=L();if(!e)return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Aucune donnée disponible"})]})});const{stats:t,recentVideos:a}=e;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Aperçu de vos activités et statistiques"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(ie,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold",children:"Vidéos uploadées"})]}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.videosCount}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Y,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"font-semibold",children:"Analyses IA"})]}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.transcriptionsCount}),r.jsx("p",{className:"text-sm text-gray-500",children:"Transcriptions"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(B,{className:"h-6 w-6 text-purple-600"})}),r.jsx("h3",{className:"font-semibold",children:"Score moyen"})]}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:null!==t.averageScore?`${t.averageScore}%`:"-"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Évaluation IA"})]})]}),a&&a.length>0?r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vidéos récentes"}),r.jsx("div",{className:"space-y-4",children:a.map(e=>r.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg hover:bg-gray-50",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded overflow-hidden",children:e.thumbnail_url?r.jsx("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(ie,{className:"h-8 w-8 text-gray-400"})})}),r.jsxs("div",{className:"flex-grow min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:e.title||"Sans titre"}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.description||"Aucune description"}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[r.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full",children:e.status||"En attente"})]})]})]},e.id))})]}):0===t.videosCount&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsx(ie,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Commencez votre première analyse"}),r.jsx("p",{className:"text-blue-700 mb-4",children:"Uploadez votre première vidéo de pitch pour voir vos statistiques apparaître ici."})]}),e.aiSuggestions&&e.aiSuggestions.length>0&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Q,{className:"h-5 w-5 text-amber-500"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Suggestions IA"})]}),r.jsx("div",{className:"space-y-3",children:e.aiSuggestions.map(e=>{var s;return r.jsxs("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-100",children:[r.jsx("p",{className:"text-gray-800",children:e.suggestion_text}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pour: ",(null==(s=e.videos)?void 0:s.title)||"Vidéo inconnue"]})]},e.id)})})]}),e.recentActivities&&e.recentActivities.length>0&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(W,{className:"h-5 w-5 text-indigo-500"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Activités récentes"})]}),r.jsx("div",{className:"space-y-2",children:e.recentActivities.map(e=>r.jsxs("div",{className:"flex items-center gap-3 py-2 border-b last:border-0",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-800",children:e.description||e.activity_type}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()})]})]},e.id))})]})]})},Vs=()=>{const{user:e}=L(),[s,a]=t.useState(!1),[i,o]=t.useState("idle"),[n,l]=t.useState(0),[d,c]=t.useState(""),[u,m]=t.useState(""),[h,g]=t.useState(null),[f,x]=t.useState(null),[b,v]=t.useState(""),y=t.useRef(null);p.useEffect(()=>{(async()=>{const e=await P();x(e.available)})()},[]);const w=e=>{if(!e)return;if(!["video/mp4","video/mov","video/avi","video/quicktime"].includes(e.type))return c("Format de fichier non supporté. Utilisez MP4, MOV ou AVI."),void o("error");if(e.size>104857600)return c("Le fichier est trop volumineux. Taille maximum: 100MB."),void o("error");g(e),c(""),o("idle")},j=()=>{var e;null==(e=y.current)||e.click()};return r.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[null!==f&&r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg text-sm "+(f?"bg-green-50 text-green-700 border border-green-200":"bg-yellow-50 text-yellow-700 border border-yellow-200"),children:[r.jsx(K,{className:"h-4 w-4"}),f?"Service d'analyse IA disponible":"Service IA indisponible - Analyse basique disponible"]}),r.jsx("input",{ref:y,type:"file",accept:"video/mp4,video/mov,video/avi,video/quicktime",onChange:e=>{const s=Array.from(e.target.files);s.length>0&&w(s[0])},className:"sr-only","data-testid":"file-input"}),r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 "+(s?"border-blue-500 bg-blue-50":"success"===i?"border-green-500 bg-green-50":"error"===i?"border-red-500 bg-red-50":h?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),a(!0)},onDragLeave:e=>{e.preventDefault(),a(!1)},onDrop:e=>{e.preventDefault(),a(!1);const s=Array.from(e.dataTransfer.files);s.length>0&&w(s[0])},children:[r.jsx("div",{className:"mb-4",children:(()=>{switch(i){case"uploading":case"processing":return r.jsx(ee,{className:"h-12 w-12 text-blue-500 animate-spin"});case"success":return r.jsx(J,{className:"h-12 w-12 text-green-500"});case"error":return r.jsx(H,{className:"h-12 w-12 text-red-500"});default:return h?r.jsx(X,{className:"h-12 w-12 text-blue-500"}):r.jsx(ae,{className:"h-12 w-12 text-gray-400"})}})()}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:(()=>{switch(i){case"uploading":return"Upload en cours...";case"processing":return"Analyse en cours...";case"success":return"Traitement terminé !";case"error":return"Erreur";default:return h?"Fichier sélectionné":"Glissez votre vidéo ici"}})()}),b&&r.jsx("p",{className:"text-sm text-blue-600 mb-2",children:b}),h&&"idle"===i&&r.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("p",{className:"font-medium text-sm truncate",children:h.name}),r.jsx("p",{className:"text-xs text-gray-500",children:(e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]})(h.size)})]}),r.jsx("button",{onClick:()=>{g(null),c(""),o("idle"),v(""),y.current&&(y.current.value="")},className:"ml-2 p-1 hover:bg-gray-100 rounded",title:"Supprimer le fichier",children:r.jsx(oe,{className:"h-4 w-4 text-gray-500"})})]})}),"idle"===i&&!h&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"ou cliquez pour sélectionner"}),r.jsx(Ss,{onClick:j,disabled:"idle"!==i,children:"Sélectionner un fichier"})]}),"idle"===i&&h&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ss,{onClick:async()=>{if(h){if(!e)return c("Vous devez être connecté pour uploader une vidéo."),void o("error");o("uploading"),l(0),c(""),m(""),v("Préparation de l'upload...");try{v("Upload de la vidéo en cours...");const e=await V(h,{title:h.name,description:"",generateThumbnail:!0,isPublic:!1},e=>{"video"===e.phase&&l(Math.min(.4*e.progress,40))});if(!e.success)throw new Error(e.error);await S.from("videos").update({status:_}).eq("id",e.video.id),o("processing"),l(50),v("Vérification du service d'analyse IA...");if((await P()).available){v("Transcription audio en cours...");const s=await(async e=>{try{const s=await P();if(!s.available)return{success:!1,error:s.error||"Service d'analyse IA temporairement indisponible"};const{data:t,error:r}=await E(async()=>await S.storage.from("videos").download(e));if(r)throw new Error(`Erreur de téléchargement: ${r.message}`);if(!t||0===t.size)throw new Error("Fichier vidéo vide ou non trouvé");const a=new File([t],"audio.mp4",{type:t.type}),i=await E(async()=>await I.audio.transcriptions.create({file:a,model:"whisper-1",response_format:"text",language:"fr"}));if(!i||"string"!=typeof i)throw new Error("Transcription invalide reçue de l'API");return{success:!0,data:i}}catch(Gs){let s="Service d'analyse IA temporairement indisponible";return Gs.message.includes("quota")||Gs.message.includes("billing")?s="Quota API dépassé. Veuillez réessayer plus tard.":Gs.message.includes("network")||Gs.message.includes("timeout")?s="Problème de connexion. Veuillez vérifier votre connexion internet.":Gs.message.includes("file")||Gs.message.includes("format")?s="Format de fichier non supporté pour la transcription.":Gs.message.includes("size")&&(s="Fichier trop volumineux pour la transcription."),{success:!1,error:s}}})(e.video.file_path);if(s.success){l(75),v("Analyse IA du contenu...");const t=await(async e=>{var s,t,r;try{const a=await P();if(!a.available)return{success:!1,error:a.error||"Service d'analyse IA temporairement indisponible"};if(!e||0===e.trim().length)throw new Error("Transcription vide - impossible d'analyser");const i=await E(async()=>await I.chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:`Analyse la transcription suivante d'un pitch vidéo et fournis des suggestions structurées en JSON:\n          \n          Format de réponse attendu:\n          {\n            "suggestions": [\n              {\n                "type": "structure|contenu|presentation|technique",\n                "titre": "Titre court de la suggestion",\n                "description": "Description détaillée",\n                "priorite": "haute|moyenne|basse"\n              }\n            ],\n            "sentiment": "positif|neutre|negatif",\n            "score_confiance": 85,\n            "mots_cles": ["mot1", "mot2", "mot3"],\n            "resume": "Résumé en une phrase du pitch",\n            "points_forts": ["Point fort 1", "Point fort 2"],\n            "points_amelioration": ["Amélioration 1", "Amélioration 2"]\n          }\n          \n          Transcription: ${e}`}],response_format:{type:"json_object"},temperature:.7,max_tokens:1500}));if(!(null==(r=null==(t=null==(s=null==i?void 0:i.choices)?void 0:s[0])?void 0:t.message)?void 0:r.content))throw new Error("Réponse invalide de l'API d'analyse");const o=JSON.parse(i.choices[0].message.content);if(!o.suggestions||!Array.isArray(o.suggestions))throw new Error("Format de réponse d'analyse invalide");return{success:!0,data:o}}catch(Gs){let s="Service d'analyse IA temporairement indisponible";return Gs.message.includes("quota")||Gs.message.includes("billing")?s="Quota API dépassé. Veuillez réessayer plus tard.":Gs.message.includes("JSON")||Gs.message.includes("parse")?s="Erreur de traitement de l'analyse. Veuillez réessayer.":Gs.message.includes("vide")&&(s="Transcription vide - impossible d'analyser le contenu."),{success:!1,error:s}}})(s.data);if(t.success)await S.from("transcriptions").insert({video_id:e.video.id,profile_id:e.video.profile_id,transcription_text:s.data,confidence_score:90,analysis_result:t.data,processing_status:"completed_full"}),await S.from("videos").update({status:z}).eq("id",e.video.id),l(100),o("success"),m("Vidéo uploadée et analysée avec succès !");else{const t=q(s.data);t.success&&await S.from("transcriptions").insert({video_id:e.video.id,profile_id:e.video.profile_id,transcription_text:s.data,confidence_score:75,analysis_result:t.data,processing_status:"transcription_only"}),await S.from("videos").update({status:z,processing_notes:"Transcription OK - Analyse IA échouée"}).eq("id",e.video.id),l(100),o("success"),m("Vidéo uploadée et transcrite ! Analyse IA échouée, analyse basique effectuée.")}}else{const s=q(`Erreur de transcription - Fichier: ${h.name}`);s.success&&await S.from("transcriptions").insert({video_id:e.video.id,profile_id:e.video.profile_id,transcription_text:"Transcription échouée",confidence_score:25,analysis_result:s.data,processing_status:"failed_transcription"}),await S.from("videos").update({status:z,processing_notes:"Transcription échouée - Analyse basique"}).eq("id",e.video.id),l(100),o("success"),m("Vidéo uploadée ! Transcription échouée, analyse basique effectuée.")}}else{v("Analyse basique en cours (IA indisponible)..."),l(75);const s=`Transcription non disponible - Fichier: ${h.name}`,t=q(s);if(t.success){const{error:r}=await S.from("transcriptions").insert({video_id:e.video.id,profile_id:e.video.profile_id,transcription_text:s,confidence_score:50,analysis_result:t.data,processing_status:"completed_basic"})}await S.from("videos").update({status:z,processing_notes:"Analyse basique - IA indisponible"}).eq("id",e.video.id),l(100),o("success"),m("Vidéo uploadée avec succès ! Analyse basique effectuée (service IA temporairement indisponible).")}setTimeout(()=>{o("idle"),l(0),m(""),g(null),v(""),y.current&&(y.current.value="")},5e3)}catch(Gs){o("error"),v("");let s="Une erreur est survenue lors du traitement.";Gs.message.includes("videos_status_check")?s="Erreur de statut vidéo : Configuration de base de données incorrecte.":Gs.message.includes("storage")||Gs.message.includes("bucket")?s="Erreur de stockage : Vérifiez la configuration Supabase Storage.":Gs.message.includes("profiles")||Gs.message.includes("user")?s="Erreur de profil utilisateur : Problème d'authentification.":Gs.message.includes("OpenAI")||Gs.message.includes("API")?s="Service d'analyse IA temporairement indisponible.":Gs.message.includes("network")||Gs.message.includes("fetch")?s="Erreur de connexion : Vérifiez votre connexion internet.":Gs.message.includes("size")||Gs.message.includes("large")?s="Fichier trop volumineux ou format non supporté.":Gs.message&&(s=`Erreur : ${Gs.message}`),c(s)}}},className:"w-full",children:"Uploader et analyser"}),r.jsx(Ss,{onClick:j,variant:"outline",className:"w-full",children:"Choisir un autre fichier"})]}),("uploading"===i||"processing"===i)&&r.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:[r.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${n}%`}}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[n,"%"]})]}),u&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-4",children:r.jsx("p",{className:"text-green-700 text-sm",children:u})}),d&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-4",children:[r.jsx("p",{className:"text-red-700 text-sm",children:d}),"error"===i&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx(Ss,{onClick:()=>{o("idle"),c(""),v("")},variant:"outline",size:"sm",className:"w-full",children:"Réessayer"}),!f&&r.jsx("p",{className:"text-xs text-gray-600",children:"Note: Le service d'analyse IA est temporairement indisponible. L'analyse basique sera utilisée."})]})]}),"idle"===i&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Formats supportés: MP4, MOV, AVI (max 100MB)"}),!f&&r.jsx("p",{className:"text-xs text-yellow-600",children:"Service IA indisponible - Analyse basique sera effectuée"})]})]})]})},Ts=()=>{const{user:e}=L(),[s,a]=t.useState([]),[i,o]=t.useState(!0),[n,l]=t.useState(null);t.useEffect(()=>{d()},[e]);const d=async()=>{var s,t,r,i;if(e){o(!0);try{let n=null;const{data:l,error:d}=await S.from("profiles").select("id").eq("user_id",e.id).single();if(d&&"PGRST116"===d.code){const{data:s,error:t}=await S.from("transcriptions").select("\n            *,\n            videos!inner (\n              title,\n              file_path,\n              created_at,\n              user_id\n            )\n          ").eq("videos.user_id",e.id).order("processed_at",{ascending:!1});return a(t?[]:s||[]),void o(!1)}if(d&&"PGRST301"===d.code){const{data:l,error:d}=await S.from("profiles").insert({user_id:e.id,email:e.email,username:(null==(s=e.email)?void 0:s.split("@")[0])||"user",full_name:(null==(t=e.user_metadata)?void 0:t.full_name)||`${(null==(r=e.user_metadata)?void 0:r.first_name)||""} ${(null==(i=e.user_metadata)?void 0:i.last_name)||""}`.trim()||null}).select().single();if(d){const{data:s,error:t}=await S.from("transcriptions").select("\n              *,\n              videos!inner (\n                title,\n                file_path,\n                created_at,\n                user_id\n              )\n            ").eq("videos.user_id",e.id).order("processed_at",{ascending:!1});return a(t?[]:s||[]),void o(!1)}n=l.id}else{if(d)throw d;n=l.id}const{data:c,error:u}=await S.from("transcriptions").select("\n          *,\n          videos!inner (\n            title,\n            file_path,\n            created_at,\n            profile_id\n          )\n        ").eq("videos.profile_id",n).order("processed_at",{ascending:!1});a(u?[]:c||[])}catch(Gs){a([])}finally{o(!1)}}},c=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return i?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analyse IA de Pitch"}),r.jsx("p",{className:"text-gray-600",children:"Chargement de vos transcriptions..."})]}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),r.jsx("div",{className:"h-20 bg-gray-200 rounded"})]},e))})]}):0===s.length?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm border text-center",children:[r.jsx(Y,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune transcription disponible"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Uploadez une vidéo pour voir apparaître ici l'analyse automatique de votre pitch par l'IA"}),r.jsx(Ss,{variant:"outline",children:"Aller à l'upload"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Vos analyses IA"}),r.jsxs("p",{className:"text-gray-600",children:[s.length," transcription(s) disponible(s)"]})]}),r.jsxs(Ss,{variant:"outline",size:"sm",onClick:d,children:[r.jsx(te,{className:"h-4 w-4 mr-2"}),"Actualiser"]})]}),r.jsx("div",{className:"grid gap-6",children:s.map(e=>{var s,t;return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:(null==(s=e.videos)?void 0:s.title)||"Vidéo sans nom"}),r.jsx("p",{className:"text-sm text-gray-500",children:c(e.processed_at)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[e.confidence_score&&r.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(t=e.confidence_score,t>=80?"text-green-600 bg-green-100":t>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"),children:[e.confidence_score,"% confiance"]}),r.jsx(Ss,{variant:"outline",size:"sm",onClick:()=>(e=>{var s;const t=`\nTranscription - ${(null==(s=e.videos)?void 0:s.title)||"Vidéo"}\nDate: ${c(e.processed_at)}\nScore de confiance: ${e.confidence_score||"N/A"}%\n\nTRANSCRIPTION:\n${e.full_text}\n\nANALYSE IA:\n${JSON.stringify(e.analysis_result,null,2)}\n    `.trim(),r=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=`transcription-${e.id}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)})(e),children:r.jsx(Z,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium mb-2",children:"Transcription:"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.full_text||"Transcription non disponible"})})]}),e.analysis_result&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium mb-2",children:"Analyse IA:"}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[e.analysis_result.suggestions&&r.jsxs("div",{children:[r.jsx("h6",{className:"font-medium text-sm text-blue-900",children:"Suggestions d'amélioration:"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-blue-800 space-y-1",children:e.analysis_result.suggestions.slice(0,3).map((e,s)=>r.jsx("li",{children:e.description||e},s))})]}),e.analysis_result.sentiment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm text-blue-900",children:"Sentiment: "}),r.jsx("span",{className:"text-sm text-blue-800",children:e.analysis_result.sentiment})]}),e.analysis_result.keywords&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm text-blue-900",children:"Mots-clés: "}),r.jsx("span",{className:"text-sm text-blue-800",children:e.analysis_result.keywords.slice(0,5).join(", ")})]})]})})]})]})]},e.id)})})]})};class Ls extends p.Component{constructor(e){super(e),s(this,"handleReload",()=>{window.location.reload()}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s})}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx(H,{className:"h-16 w-16 text-red-500 mx-auto"})}),r.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Oups ! Une erreur s'est produite"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontré une erreur inattendue. Veuillez recharger la page ou contacter le support si le problème persiste."}),!1,r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Ss,{onClick:this.handleReload,className:"w-full",children:[r.jsx(te,{className:"h-4 w-4 mr-2"}),"Recharger la page"]}),r.jsx(Ss,{variant:"outline",onClick:()=>window.location.href="/",className:"w-full",children:"Retour à l'accueil"})]})]})}):this.props.children}}const $s=x,Rs=t.forwardRef(({className:e,...s},t)=>r.jsx(h,{ref:t,className:gs("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));Rs.displayName=h.displayName;const Os=t.forwardRef(({className:e,...s},t)=>r.jsx(g,{ref:t,className:gs("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...s}));Os.displayName=g.displayName;const Us=t.forwardRef(({className:e,...s},t)=>r.jsx(f,{ref:t,className:gs("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));function Ds(){const[e,s]=t.useState("dashboard"),[a,i]=t.useState(!1),[o,n]=t.useState(null),[l,d]=t.useState(null),[c,u]=t.useState(!1),[m,p]=t.useState(null),{user:h,loading:g,signOut:f,profile:x}=L();t.useEffect(()=>{if(!g){(async()=>{try{const{data:s,error:t}=await S.auth.getSession();if(t)return void n("Erreur de connexion à l'authentification");try{const{data:e,error:s}=await S.from("profiles").select("count").limit(1);s&&s.code}catch(e){}}catch(Gs){n("Erreur de configuration Supabase")}})()}},[g]);const b=async()=>{if(h)try{u(!0),p(null);const{data:e,error:s}=await S.from("videos").select("id, title, description, created_at, status, thumbnail_url").eq("user_id",h.id).order("created_at",{ascending:!1});s&&s.code;const{data:t,error:r}=await S.from("transcriptions").select("id, confidence_score, created_at").eq("user_id",h.id);r&&r.code;const a=e?e.length:0,i=t?t.length:0;let o=null;if(t&&t.length>0){const e=t.filter(e=>null!==e.confidence_score).map(e=>e.confidence_score);e.length>0&&(o=Math.round(e.reduce((e,s)=>e+s,0)/e.length))}const n={stats:{videosCount:a,transcriptionsCount:i,averageScore:o},recentVideos:e?e.slice(0,5):[]};d(n)}catch(e){p(e.message||"Erreur lors de la récupération des données")}finally{u(!1)}};t.useEffect(()=>{h&&"dashboard"===e&&b()},[h,e]);return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(re,{className:"h-8 w-8 text-red-600"}),r.jsx("h2",{className:"text-xl font-bold text-red-800",children:"Erreur de configuration"})]}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[r.jsx("p",{children:o}),r.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("p",{className:"text-yellow-800 text-xs",children:r.jsx("strong",{children:"Solutions possibles :"})}),r.jsxs("ul",{className:"text-yellow-800 text-xs mt-2 space-y-1",children:[r.jsx("li",{children:"• Vérifiez les variables d'environnement VITE_SUPABASE_URL et VITE_SUPABASE_ANON_KEY"}),r.jsx("li",{children:"• Vérifiez que le projet Supabase est actif"}),r.jsx("li",{children:"• Vérifiez la configuration réseau"})]})]}),r.jsx(Ss,{onClick:()=>window.location.reload(),className:"w-full mt-4",variant:"outline",children:"Réessayer"})]})]})}):g?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Chargement de SpotBulle..."}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Connexion à la base de données"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ie,{className:"h-8 w-8 text-blue-600"}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Smoovebox"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"v2.0"})]}),r.jsx("div",{className:"flex items-center gap-4",children:h?r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Bonjour, ",(null==x?void 0:x.full_name)||h.email]}),r.jsxs(Ss,{variant:"outline",size:"sm",onClick:async()=>{try{await f(),d(null)}catch(Gs){}},children:[r.jsx(se,{className:"h-4 w-4 mr-2"}),"Déconnexion"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ss,{variant:"outline",size:"sm",onClick:()=>i(!0),children:"Connexion"}),r.jsx(Ss,{size:"sm",onClick:()=>i(!0),children:"S'inscrire"})]})})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h?r.jsxs($s,{value:e,onValueChange:s,className:"w-full",children:[r.jsxs(Rs,{className:"grid w-full grid-cols-3 mb-8",children:[r.jsxs(Os,{value:"dashboard",className:"flex items-center gap-2",children:[r.jsx(B,{className:"h-4 w-4"}),"Dashboard"]}),r.jsxs(Os,{value:"upload",className:"flex items-center gap-2",children:[r.jsx(ae,{className:"h-4 w-4"}),"Upload"]}),r.jsxs(Os,{value:"transcription",className:"flex items-center gap-2",children:[r.jsx(Y,{className:"h-4 w-4"}),"Analyse IA"]})]}),r.jsx(Us,{value:"dashboard",children:c?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Chargement des données du dashboard..."})]}):m?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[r.jsx(re,{className:"h-10 w-10 text-red-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erreur de chargement"}),r.jsx("p",{className:"text-red-700 mb-4",children:m}),r.jsxs(Ss,{variant:"outline",onClick:b,className:"flex items-center gap-2",children:[r.jsx(te,{className:"h-4 w-4"}),"Réessayer"]})]}):r.jsx(qs,{dashboardData:l})}),r.jsxs(Us,{value:"upload",className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upload Vidéo Mobile"}),r.jsx("p",{className:"text-gray-600",children:"Uploadez vos pitchs vidéo avec compression automatique et optimisation mobile"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Vs,{})})]}),r.jsxs(Us,{value:"transcription",className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analyse IA de Pitch"}),r.jsx("p",{className:"text-gray-600",children:"Transcription automatique et suggestions d'amélioration par intelligence artificielle"})]}),r.jsx(Ts,{})]})]}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(ie,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Bienvenue sur SpotBulle avec analyse IA"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"La plateforme moderne de pitch vidéo avec intelligence artificielle. Créez, analysez et améliorez vos présentations avec l'aide de l'IA."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ss,{size:"lg",onClick:()=>i(!0),className:"px-8 py-3",children:"Commencer maintenant"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Aucun compte requis pour tester • Inscription gratuite"})]})]})}),r.jsx("footer",{className:"bg-white border-t mt-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("p",{className:"text-sm",children:"SpotBulle avec analyse IA - Plateforme moderne de pitch vidéo avec IA"}),r.jsx("p",{className:"text-xs mt-2",children:"Stack: Outils Innovants Pour Notre Jeunesse de Demain"})]})})}),r.jsx(Ps,{isOpen:a,onClose:()=>i(!1),onAuthSuccess:s=>{i(!1),"dashboard"===e&&b()}})]})}function Fs(){return r.jsx(Ls,{children:r.jsx($,{children:r.jsx(Ds,{})})})}Us.displayName=f.displayName,N.createRoot(document.getElementById("root")).render(r.jsx(t.StrictMode,{children:r.jsx(Fs,{})}));
